DCP 数据包控制协议
==================
基于UDP，完整的「一个数据」逻辑，类似文件（有边界）。
主要用于端到端数据传输。

目标
----
	1. 任意尺寸数据体。
	   数据报默认最大576字节分组发送，有效负载：576-20-20 = 536。
	2. 送达可靠性。
	   仅保证数据报送达，数据本身的可靠性可选CRC64校验。
	3. 拥塞控制。
	   乱序间距回馈自适应，并行缓冲延迟确认。
	   基础速率：~4ms。


要点
----
小启动（～慢启动）
起始的数据报大小取最小值，然后依MTU通告进行调整。
起始的速度也稍微慢一些，之后权衡两个距离和时间调整速度。
注：
由距离和己方的发送速度可估算网络状况。
基本逻辑：
	1. 顺序并发。
	   不同的数据按请求的先后并行发送。
	   每个数据内部的分组按顺序有速率约束（权衡距离因子）地并发（不等待确认）。
	2. 乱序接收。
	   网络传输无法保证顺序，以乱序为设计基础。
	3. 乱序确认。
	   按适当的节奏确认，基本保持原接收的乱序。
	   参考确认距离发送重复确认（如果必要）。
	4. 有序重发。
	   权衡接收距离因子计算重发，序列号顺序依然决定优先性。


头部结构：
（12字节）
	-----------------------------------------------------------------------
	数据标识：发送方设置
	--------------------
	(2) 数据ID。
		对一个完整数据的标识。
		类似于一个文件描述符，返回给应用层用于标记数据。
		多个数据传输并行工作，类似多文件请求。
		注：0xffff 有特殊用途，正常数据ID跳过。
	(2) 序列号。
		以分组的数据报为单位，而非字节数。
		初始发送时起始值随机，随后的分组按顺序递增，超值回绕。
		与数据ID一起工作，从不可靠的网络获取数据（类似一个网络文件系统）。
		注：值0xffff特殊保留。
	-----------------------------------------------------------------------
	确认标识：接收方设置
	--------------------
	(2) 数据ID。
		含义同上，此为对发送方数据的确认，值为源数据ID。
	(2) 确认号。
		完整进度需要的下一个序列号（即传统的ACK含义）。
		注：
		值0xffff表示纯确认，无数据负载。
		用在单纯接收数据时，发现确认距离较大（ACK丢失）而主动发出，阻止发送方超时重发。
		如果双方都有数据发送，则确认被携带在正常的发送包中。
	-----------------------------------------------------------------------
	[4] MTU 通告。
		告诉对端自己可以发送的最大包尺寸，数据报送达则可被确认。
		确认时可设置更小的类型（不能更大），以表达自己的MSS能力（MTU和MSS已二合一）。
		注：4位空间可支持14种标准通路，自定义大小由15标记。
		0) 默认最小值。也为起始小启动的值。
		   576 （x-40 = 536/IPv4，x-64 = 512/IPv6）
		   1280（x-64 = 1216/IPv6）
		1) 常用以太网通路。
		   1500（x-40 = 1460/IPv4，x-64 = 1436/IPv6）
		2) PPPoE链路。
		   1492（x-40 = 1452/IPv4，x-64 = 1428/IPv6）
		f) 超标指示。
		   由头部后4字节指定大小，常用于超高速传输。

		实现：
		采用特殊的数据ID（0xffff）发送测试包（序列号随机），以探测路径最大MTU值。
		确认的数据ID保持为0xffff，确认号为序列号加1。
		实际的测试可能实现为一个独立的服务，每隔一段时间（10～20分钟）重复测试。
		外部简单调用取值即可。

		对于超高速网络，通常传输能力已知，无需实际发送巨大的测试数据。
		简单协商即可。
	[4] 保留。
	[8] 标志位。
		接收方设置
		----------
		5] FIN  接收完毕。
			一个完整的数据接收完毕（收到END的ACK）。
		4] CWR	拥塞求减。
			通知发送方减速（即便窗口未满）。如接受端应用暂停。
		3] CER 	数据校验出错。
			仅在CRC被设置时才有效，通知发送方数据有问题。
		发送方设置
		----------
		2] CRC 	包含CRC64校验。
			校验和数据紧跟在头部之后。校验的数据仅包含有效负载。
			注：此时数据报有效负载为：576-20-20-8 = 528
		1] BEG  分组开始。
			发送方设置，标记第一个数据包分组。
		0] END  分组结束。
			发送方设置，数据分组结束（最后一个包）。
			接收者附加一个文件结束符，递送到应用。
			注：
			如果数据包较小而无需分组，则BEG和END会被同时设置。
	(1) 接收距离。
		接收方设置。
		当前收到的分组与进度线（ACK）的距离。如：1表示跳了1个包。
		接收方通常会微等待以优化ACK。如果接受到跳跃的包，则该值有意义。
		理想情况下该值为0，但如果接收到新的跳跃包，则可能再次发送ACK（重复）。
		该值对数据报丢失判断有参考意义。
	(1) 确认距离。
		发送方设置。
		当前发送的分组序列号与最新确认号的距离。
		此为发送方对接收方的进度通报，即对方发送的ACK已收到（对ACK确认的确认）。
		该值对ACK丢失而需接收方再次确认有意义。
	-----------------------------------------------------------------------

	注记：
	为避免冗余浪费，取消校验和设计（依赖UDP的2字节校验和）。
	但提供可选的CRC64校验能力。更高精度的校验和由应用自行负责。


API：
缺失的分组可能可以忽略（如视频），因此支持通过API跳过缺失的确认。
代码：
	// 忽略当前缺失的分组，跳至最近已接收后段分组（ACK更新）。
	// 返回跳过的分组数。
	func Ignore() int

	// 返回当前ACK与最近后段分组的距离。
	func Space() int
